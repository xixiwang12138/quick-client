"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[4439],{14439:(e,a,l)=>{l.r(a),l.d(a,{default:()=>T});var t=l(72791),s=l(57689),u=l(26181),r=l.n(u),n=l(29945),o=l(31776),i=l(82342),c=l(23814),b=l(34345),v=l(56087),d=l(87995),S=l(44690);const g=[{label:"US East (Ohio)",value:"us-east-2"},{label:"US East (N. Virginia)",value:"us-east-1"},{label:"US West (N. California)",value:"us-west-1"},{label:"US West (Oregon)",value:"us-west-2"},{label:"Africa (Cape Town)",value:"af-south-1"},{label:"Asia Pacific (Hong Kong)***",value:"ap-east-1"},{label:"Asia Pacific (Jakarta)",value:"ap-southeast-3"},{label:"Asia Pacific (Mumbai)",value:"ap-south-1"},{label:"Asia Pacific (Osaka)",value:"ap-northeast-3"},{label:"Asia Pacific (Seoul)",value:"ap-northeast-2"},{label:"Asia Pacific (Singapore)",value:"ap-southeast-1"},{label:"Asia Pacific (Sydney)",value:"ap-southeast-2"},{label:"Asia Pacific (Tokyo)",value:"ap-northeast-1"},{label:"Canada (Central)",value:"ca-central-1"},{label:"China (Beijing)",value:"cn-north-1"},{label:"China (Ningxia)",value:"cn-northwest-1"},{label:"Europe (Frankfurt)",value:"eu-central-1"},{label:"Europe (Ireland)",value:"eu-west-1"},{label:"Europe (London)",value:"eu-west-2"},{label:"Europe (Milan)",value:"eu-south-1"},{label:"Europe (Paris)",value:"eu-west-3"},{label:"Europe (Stockholm)",value:"eu-north-1"},{label:"South America (S\xe3o Paulo)",value:"sa-east-1"},{label:"Middle East (Bahrain)",value:"me-south-1"},{label:"AWS GovCloud (US-East)",value:"us-gov-east-1"},{label:"AWS GovCloud (US-West)",value:"us-gov-west-1"}],h=[{label:"Montr\xe9al",value:"NORTHAMERICA-NORTHEAST1"},{label:"Toronto",value:"NORTHAMERICA-NORTHEAST2"},{label:"Iowa",value:"US-CENTRAL1"},{label:"South Carolina",value:"US-EAST1"},{label:"Northern Virginia",value:"US-EAST4"},{label:"Oregon",value:"US-WEST1"},{label:"Los Angeles",value:"US-WEST2"},{label:"Salt Lake City",value:"US-WEST3"},{label:"Las Vegas",value:"US-WEST4"},{label:"S\xe3o Paulo",value:"SOUTHAMERICA-EAST1"},{label:"Santiago",value:"SOUTHAMERICA-WEST1"},{label:"Warsaw",value:"EUROPE-CENTRAL2"},{label:"Finland",value:"EUROPE-NORTH1"},{label:"Belgium",value:"EUROPE-WEST1"},{label:"London",value:"EUROPE-WEST2"},{label:"Frankfurt",value:"EUROPE-WEST3"},{label:"Netherlands",value:"EUROPE-WEST4"},{label:"Z\xfcrich",value:"EUROPE-WEST6"},{label:"Taiwan",value:"ASIA-EAST1"},{label:"Hong Kong",value:"ASIA-EAST2"},{label:"Tokyo",value:"ASIA-NORTHEAST1"},{label:"Osaka",value:"ASIA-NORTHEAST2"},{label:"Seoul",value:"ASIA-NORTHEAST3"},{label:"Mumbai",value:"ASIA-SOUTH1"},{label:"Delhi",value:"ASIA-SOUTH2"},{label:"Singapore",value:"ASIA-SOUTHEAST1"},{label:"Jakarta",value:"ASIA-SOUTHEAST2"},{label:"Sydney",value:"AUSTRALIA-SOUTHEAST1"},{label:"Melbourne",value:"AUSTRALIA-SOUTHEAST2"}],A=[{label:"Asia",value:"asia"},{label:"Asia Pacific",value:"asiapacific"},{label:"Australia",value:"australia"},{label:"Australia Central",value:"australiacentral"},{label:"Australia Central 2",value:"australiacentral2"},{label:"Australia East",value:"australiaeast"},{label:"Australia Southeast",value:"australiasoutheast"},{label:"Brazil",value:"brazil"},{label:"Brazil South",value:"brazilsouth"},{label:"Brazil Southeast",value:"brazilsoutheast"},{label:"Canada",value:"canada"},{label:"Canada Central",value:"canadacentral"},{label:"Canada East",value:"canadaeast"},{label:"Central India",value:"centralindia"},{label:"Central US",value:"centralus"},{label:"Central US (Stage)",value:"centralusstage"},{label:"Central US EUAP",value:"centraluseuap"},{label:"East Asia",value:"eastasia"},{label:"East Asia (Stage)",value:"eastasiastage"},{label:"East US",value:"eastus"},{label:"East US (Stage)",value:"eastusstage"},{label:"East US 2",value:"eastus2"},{label:"East US 2 (Stage)",value:"eastus2stage"},{label:"East US 2 EUAP",value:"eastus2euap"},{label:"Europe",value:"europe"},{label:"France",value:"france"},{label:"France Central",value:"francecentral"},{label:"France South",value:"francesouth"},{label:"Germany",value:"germany"},{label:"Germany North",value:"germanynorth"},{label:"Germany West Central",value:"germanywestcentral"},{label:"Global",value:"global"},{label:"India",value:"india"},{label:"Japan",value:"japan"},{label:"Japan East",value:"japaneast"},{label:"Japan West",value:"japanwest"},{label:"Jio India Central",value:"jioindiacentral"},{label:"Jio India West",value:"jioindiawest"},{label:"Korea",value:"korea"},{label:"Korea Central",value:"koreacentral"},{label:"Korea South",value:"koreasouth"},{label:"North Central US",value:"northcentralus"},{label:"North Central US (Stage)",value:"northcentralusstage"},{label:"North Europe",value:"northeurope"},{label:"Norway",value:"norway"},{label:"Norway East",value:"norwayeast"},{label:"Norway West",value:"norwaywest"},{label:"South Africa",value:"southafrica"},{label:"South Africa North",value:"southafricanorth"},{label:"South Africa West",value:"southafricawest"},{label:"South Central US",value:"southcentralus"},{label:"South Central US (Stage)",value:"southcentralusstage"},{label:"South India",value:"southindia"},{label:"Southeast Asia",value:"southeastasia"},{label:"Southeast Asia (Stage)",value:"southeastasiastage"},{label:"Sweden Central",value:"swedencentral"},{label:"Switzerland",value:"switzerland"},{label:"Switzerland North",value:"switzerlandnorth"},{label:"Switzerland West",value:"switzerlandwest"},{label:"UAE Central",value:"uaecentral"},{label:"UAE North",value:"uaenorth"},{label:"UK South",value:"uksouth"},{label:"UK West",value:"ukwest"},{label:"United Arab Emirates",value:"uae"},{label:"United Kingdom",value:"uk"},{label:"United States",value:"unitedstates"},{label:"United States EUAP",value:"unitedstateseuap"},{label:"West Central US",value:"westcentralus"},{label:"West Europe",value:"westeurope"},{label:"West India",value:"westindia"},{label:"West US",value:"westus"},{label:"West US (Stage)",value:"westusstage"},{label:"West US 2",value:"westus2"},{label:"West US 2 (Stage)",value:"westus2stage"},{label:"West US 3",value:"westus3"}];var E=l(80184);const p=e=>{let{label:a,onChange:l,type:s,tooltip:u="",required:r=!1,disabled:o,placeholder:i}=e;const c=(e=>{let a=[];return"s3"===e&&(a=g),"gcs"===e&&(a=h),"azure"===e&&(a=A),a.map((e=>({value:e.value,label:"".concat(e.label," - ").concat(e.value)})))})(s),[b,v]=(0,t.useState)("");return"minio"===s?(0,E.jsx)(n.Wzg,{label:a,disabled:o,required:r,tooltip:u,value:b,placeholder:i,id:"region-list",onChange:e=>{v(e.target.value),l(e.target.value)}}):(0,E.jsx)(n.F2H,{label:a,disabled:o,required:r,tooltip:u,options:c,value:b,placeholder:i,id:"region-list",onChange:e=>{v(e),l(e)}})};var m=l(79844),C=l(61342);const T=()=>{const e=(0,S.TL)(),a=(0,s.s0)(),l=(0,s.UO)(),[u,g]=(0,t.useState)(!1),[h,A]=(0,t.useState)(""),[T,U]=(0,t.useState)(""),[f,w]=(0,t.useState)(""),[x,j]=(0,t.useState)(""),[y,W]=(0,t.useState)(""),[k,N]=(0,t.useState)(""),[z,O]=(0,t.useState)(""),[I,R]=(0,t.useState)(""),[P,K]=(0,t.useState)(""),[H,B]=(0,t.useState)(""),[F,q]=(0,t.useState)(""),[M,G]=(0,t.useState)(""),[L,Z]=(0,t.useState)(""),J=r()(l,"service","s3"),[D,X]=(0,t.useState)(!0),[V,_]=(0,t.useState)(""),$=(0,t.useCallback)((()=>/^[A-Z0-9-_]+$/.test(h)?(_(""),!0):(_("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1)),[h]);(0,t.useEffect)((()=>{if(u){let l={},t={name:h,endpoint:T,bucket:f,prefix:x,region:y},s=J;switch(J){case"minio":l={minio:{...t,accesskey:z,secretkey:I}};break;case"s3":l={s3:{...t,accesskey:z,secretkey:I,storageclass:k}};break;case"gcs":l={gcs:{...t,creds:H}};break;case"azure":l={azure:{...t,accountname:F,accountkey:M}}}let u={type:s,...l};o.h.admin.addTier(u).then((()=>{g(!1),a(v.gA.TIERS)})).catch((async a=>{const l=await a.json();g(!1),e((0,d.Ih)((0,i.g)(l)))}))}}),[z,M,F,f,H,T,h,x,y,u,I,e,k,J,a]),(0,t.useEffect)((()=>{let e=!0;""===J&&(e=!1),""!==h&&$()||(e=!1),""===T&&(e=!1),""===f&&(e=!1),""===x&&(e=!1),""===y&&"minio"!==J&&(e=!1),"s3"!==J&&"minio"!==J||(""===z&&(e=!1),""===I&&(e=!1)),"gcs"===J&&""===H&&(e=!1),"azure"===J&&(""===F&&(e=!1),""===M&&(e=!1)),X(e)}),[z,M,F,f,H,T,D,h,x,y,I,k,J,$]),(0,t.useEffect)((()=>{switch(J){case"gcs":U("https://storage.googleapis.com"),Z("Google Cloud");break;case"s3":U("https://s3.amazonaws.com"),Z("Amazon S3");break;case"azure":U("http://blob.core.windows.net"),Z("Azure");break;case"minio":U(""),Z("MinIO")}}),[J]);const Q=b.Bh.find((e=>e.serviceName===J));return(0,t.useEffect)((()=>{e((0,d.Sc)("add-tier-configuration"))}),[]),(0,E.jsxs)(t.Fragment,{children:[(0,E.jsx)(m.Z,{label:(0,E.jsx)(t.Fragment,{children:(0,E.jsx)(n.hbI,{label:"Add Tier",onClick:()=>a(v.gA.TIERS_ADD)})}),actions:(0,E.jsx)(C.Z,{})}),(0,E.jsx)(n.Xgh,{children:(0,E.jsx)(n.rjZ,{item:!0,xs:12,sx:{border:"1px solid #eaeaea",padding:"25px"},children:(0,E.jsxs)("form",{noValidate:!0,onSubmit:e=>{e.preventDefault(),g(!0)},children:[""!==J&&Q?(0,E.jsxs)(n.NZf,{icon:Q.logo,sx:{marginBottom:20},children:[L||""," - Add Tier Configuration"]}):null,(0,E.jsx)(n.rjZ,{item:!0,xs:12,sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gridAutoFlow:"row",gridRowGap:20,gridColumnGap:50,["@media (max-width: ".concat(n.Egj.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},children:""!==J&&(0,E.jsxs)(t.Fragment,{children:[(0,E.jsx)(n.Wzg,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:h,onChange:e=>{A(e.target.value.toUpperCase())},error:V,required:!0}),(0,E.jsx)(n.Wzg,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:T,onChange:e=>{U(e.target.value)},required:!0}),(J===b.b2||J===b.Pp)&&(0,E.jsxs)(t.Fragment,{children:[(0,E.jsx)(n.Wzg,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:z,onChange:e=>{O(e.target.value)},required:!0}),(0,E.jsx)(n.Wzg,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:I,onChange:e=>{R(e.target.value)},required:!0})]}),J===b.f0&&(0,E.jsx)(n.F5R,{accept:".json",id:"creds",label:"Credentials",name:"creds",returnEncodedData:!0,onChange:(e,a,l)=>{l&&(B(l),K(a))},value:P,required:!0}),J===b.vB&&(0,E.jsxs)(t.Fragment,{children:[(0,E.jsx)(n.Wzg,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:F,onChange:e=>{q(e.target.value)},required:!0}),(0,E.jsx)(n.Wzg,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:M,onChange:e=>{G(e.target.value)},required:!0})]}),(0,E.jsx)(n.Wzg,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:f,onChange:e=>{w(e.target.value)},required:!0}),(0,E.jsx)(n.Wzg,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:x,onChange:e=>{j(e.target.value)},required:!0}),(0,E.jsx)(p,{onChange:e=>{W(e)},required:"minio"!==J,label:"Region",id:"region",type:J}),J===b.b2&&(0,E.jsx)(n.Wzg,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:k,onChange:e=>{N(e.target.value)}})]})}),(0,E.jsx)(n.rjZ,{item:!0,xs:12,sx:c.ID.modalButtonBar,children:(0,E.jsx)(n.zxk,{id:"save-tier-configuration",type:"submit",variant:"callAction",disabled:u||!D,label:"Save Tier Configuration"})})]})})})]})}},34345:(e,a,l)=>{l.d(a,{Bh:()=>i,Pp:()=>u,b2:()=>n,f0:()=>r,vB:()=>o});var t=l(29945),s=l(80184);const u="minio",r="gcs",n="s3",o="azure",i=[{serviceName:u,targetTitle:"MinIO",logo:(0,s.jsx)(t.$E9,{}),logoXs:(0,s.jsx)(t.YEz,{})},{serviceName:r,targetTitle:"Google Cloud Storage",logo:(0,s.jsx)(t.UQG,{}),logoXs:(0,s.jsx)(t.Vwu,{})},{serviceName:n,targetTitle:"AWS S3",logo:(0,s.jsx)(t.feu,{}),logoXs:(0,s.jsx)(t.Xj3,{})},{serviceName:o,targetTitle:"Azure",logo:(0,s.jsx)(t.jze,{}),logoXs:(0,s.jsx)(t.nAe,{})}]}}]);
//# sourceMappingURL=4439.0c1534c5.chunk.js.map