"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[1604],{1604:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(72791),i=n(29945),o=n(31776),l=n(66315),r=n(82342),s=n(23814),c=n(87995),u=n(44690),d=n(56028),m=n(80184);const b=e=>{let{open:t,bucketName:n,closeModalAndRefresh:b}=e;const p=(0,u.TL)(),[h,g]=(0,a.useState)(!1),[j,x]=(0,a.useState)(!0),[v,f]=(0,a.useState)(l.oO.Compliance),[k,y]=(0,a.useState)(l.zR.Days),[C,S]=(0,a.useState)(1),[w,R]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{Number.isNaN(C)||(C||1)<1?R(!1):R(!0)}),[C]),(0,a.useEffect)((()=>{j&&o.h.buckets.getBucketRetentionConfig(n).then((e=>{x(!1),f(e.data.mode),S(e.data.validity),y(e.data.unit)})).catch((()=>{x(!1)}))}),[j,n]),(0,m.jsx)(d.Z,{title:"Set Retention Configuration",modalOpen:t,onClose:()=>{b()},children:j?(0,m.jsx)(i.aNw,{style:{width:16,height:16}}):(0,m.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),h||(g(!0),o.h.buckets.setBucketRetentionConfig(n,{mode:v||l.oO.Compliance,unit:k||l.zR.Days,validity:C||1}).then((()=>{g(!1),b()})).catch((e=>{g(!1),p((0,c.zb)((0,r.g)(e.error)))})))},children:(0,m.jsxs)(i.ltY,{containerPadding:!1,withBorders:!1,children:[(0,m.jsx)(i.Eep,{currentValue:v,id:"retention_mode",name:"retention_mode",label:"Retention Mode",onChange:e=>{f(e.target.value)},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}],helpTip:(0,m.jsxs)(a.Fragment,{children:[" ",(0,m.jsx)("a",{href:"https://min.io/docs/minio/macos/administration/object-management/object-retention.html#minio-object-locking-compliance",target:"blank",children:"Compliance"})," ","lock protects Objects from write operations by all users, including the MinIO root user.",(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)("a",{href:"https://min.io/docs/minio/macos/administration/object-management/object-retention.html#minio-object-locking-governance",target:"blank",children:"Governance"})," ","lock protects Objects from write operations by non-privileged users."]}),helpTipPlacement:"right"}),(0,m.jsx)(i.Eep,{currentValue:k,id:"retention_unit",name:"retention_unit",label:"Retention Unit",onChange:e=>{y(e.target.value)},selectorOptions:[{value:"days",label:"Days"},{value:"years",label:"Years"}]}),(0,m.jsx)(i.Wzg,{type:"number",id:"retention_validity",name:"retention_validity",onChange:e=>{S(e.target.valueAsNumber)},label:"Retention Validity",value:String(C),required:!0,min:"1"}),(0,m.jsxs)(i.rjZ,{item:!0,xs:12,sx:s.ID.modalButtonBar,children:[(0,m.jsx)(i.zxk,{id:"cancel",type:"button",variant:"regular",disabled:h,onClick:()=>{b()},label:"Cancel"}),(0,m.jsx)(i.zxk,{id:"set",type:"submit",variant:"callAction",color:"primary",disabled:h||!w,label:"Set"})]}),h&&(0,m.jsx)(i.rjZ,{item:!0,xs:12,children:(0,m.jsx)(i.kod,{})})]})})})}}}]);
//# sourceMappingURL=1604.a2631ee5.chunk.js.map