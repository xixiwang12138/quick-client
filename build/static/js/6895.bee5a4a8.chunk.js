"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[6895],{66895:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var n=s(72791),c=s(57689),i=s(29945),a=s(78687),l=s(56087),o=s(38442),d=s(75578),r=s(87995),b=s(9859),u=s(44690),_=s(27454),T=s(79844),x=s(31776),h=s(82342),C=s(61342),I=s(80184);const j=(0,d.Z)(n.lazy((()=>s.e(9968).then(s.bind(s,39968))))),F=(0,d.Z)(n.lazy((()=>s.e(7494).then(s.bind(s,47494))))),S=(0,d.Z)(n.lazy((()=>s.e(4738).then(s.bind(s,84738))))),E=(0,d.Z)(n.lazy((()=>s.e(3989).then(s.bind(s,93989))))),m=(0,d.Z)(n.lazy((()=>s.e(5702).then(s.bind(s,25702))))),p=(0,d.Z)(n.lazy((()=>s.e(5759).then(s.bind(s,85759))))),f=(0,d.Z)(n.lazy((()=>s.e(51).then(s.bind(s,51))))),O=()=>{var e;const t=(0,u.TL)(),s=(0,c.s0)(),d=(0,c.UO)(),O=(0,c.TH)(),k=(0,a.v9)(r.N5),A=(0,a.v9)(b.HQ),N=(0,a.v9)(b.G6),y=(0,a.v9)(r.gw),[g,U]=(0,n.useState)(!1),[v,L]=(0,n.useState)(!1),w=d.bucketName||"",B=(0,o.F)(w,l.o3),G=(0,o.F)(w,l.B);(0,n.useEffect)((()=>{t((0,r.Sc)("bucket_details"))}),[]),(0,n.useEffect)((()=>{g||(t((0,b.d5)(!0)),U(!0))}),[g,t,U]),(0,n.useEffect)((()=>{A&&x.h.buckets.bucketInfo(w).then((e=>{t((0,b.d5)(!1)),t((0,b.f4)(e.data))})).catch((e=>{t((0,b.d5)(!1)),t((0,r.Ih)((0,h.g)(e)))}))}),[w,A,t]);let R="/buckets/".concat(w);const P={events:"/admin/events",replication:"/admin/replication",lifecycle:"/admin/lifecycle",access:"/admin/access",prefix:"/admin/prefix"},z=e=>{let t=P[e];return t=t?"".concat(R).concat(t):"".concat(R).concat("/admin/summary"),t};return(0,I.jsxs)(n.Fragment,{children:[v&&(0,I.jsx)(j,{deleteOpen:v,selectedBucket:w,closeDeleteModalAndRefresh:e=>{(e=>{L(!1),e&&s("/buckets")})(e)}}),(0,I.jsx)(T.Z,{label:(0,I.jsx)(i.hbI,{label:"Buckets",onClick:()=>s("/buckets")}),actions:(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(_.Z,{tooltip:G?"Browse Bucket":(0,l.MK)(l.D[l.EI.BUCKET_VIEWER],"browsing this bucket"),children:(0,I.jsx)(i.zxk,{id:"switch-browse-view","aria-label":"Browse Bucket",onClick:()=>{s("/browser/".concat(w))},icon:(0,I.jsx)(i.ROc,{style:{width:20,height:20,marginTop:-3}}),style:{padding:"0 10px"},disabled:!G})}),(0,I.jsx)(C.Z,{})]})}),(0,I.jsxs)(i.Xgh,{children:[(0,I.jsx)(i.UHn,{icon:(0,I.jsx)(n.Fragment,{children:(0,I.jsx)(i.wNb,{width:40})}),title:w,subTitle:(0,I.jsxs)(o.s,{scopes:[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS],resource:w,children:[(0,I.jsx)("span",{style:{fontSize:15},children:"Access: "}),(0,I.jsx)("span",{style:{fontWeight:600,fontSize:15,textTransform:"capitalize"},children:null===N||void 0===N||null===(e=N.access)||void 0===e?void 0:e.toLowerCase()})]}),actions:(0,I.jsxs)(n.Fragment,{children:[(0,I.jsx)(o.s,{scopes:l.o3,resource:w,errorProps:{disabled:!0},children:(0,I.jsx)(_.Z,{tooltip:B?"":(0,l.MK)([l.Ft.S3_DELETE_BUCKET,l.Ft.S3_FORCE_DELETE_BUCKET],"deleting this bucket"),children:(0,I.jsx)(i.zxk,{id:"delete-bucket-button",onClick:()=>{L(!0)},label:"Delete Bucket",icon:(0,I.jsx)(i.XHJ,{}),variant:"secondary",disabled:!B})})}),(0,I.jsx)(i.zxk,{id:"refresh-bucket-info",onClick:()=>{t((0,b.d5)(!0))},label:"Refresh",icon:(0,I.jsx)(i.DuK,{})})]}),sx:{marginBottom:15}}),(0,I.jsx)(i.xuv,{children:(0,I.jsx)(i.mQc,{currentTabOrPath:O.pathname,useRouteTabs:!0,onTabClick:e=>{s(e)},options:[{tabConfig:{label:"Summary",id:"summary",to:z("summary")}},{tabConfig:{label:"Events",id:"events",disabled:!(0,o.F)(w,[l.Ft.S3_GET_BUCKET_NOTIFICATIONS,l.Ft.S3_PUT_BUCKET_NOTIFICATIONS,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),to:z("events")}},{tabConfig:{label:"Replication",id:"replication",disabled:!k||y.enabled&&y.curSite||!(0,o.F)(w,[l.Ft.S3_GET_REPLICATION_CONFIGURATION,l.Ft.S3_PUT_REPLICATION_CONFIGURATION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),to:z("replication")}},{tabConfig:{label:"Lifecycle",id:"lifecycle",disabled:!k||!(0,o.F)(w,[l.Ft.S3_GET_LIFECYCLE_CONFIGURATION,l.Ft.S3_PUT_LIFECYCLE_CONFIGURATION,l.Ft.S3_GET_ACTIONS,l.Ft.S3_PUT_ACTIONS]),to:z("lifecycle")}},{tabConfig:{label:"Access",id:"access",disabled:!(0,o.F)(w,[l.Ft.ADMIN_GET_POLICY,l.Ft.ADMIN_LIST_USER_POLICIES,l.Ft.ADMIN_LIST_USERS]),to:z("access")}},{tabConfig:{label:"Anonymous",id:"anonymous",disabled:!(0,o.F)(w,[l.Ft.S3_GET_BUCKET_POLICY,l.Ft.S3_GET_ACTIONS]),to:z("prefix")}}],routes:(0,I.jsxs)(c.Z5,{children:[(0,I.jsx)(c.AW,{path:"summary",element:(0,I.jsx)(E,{})}),(0,I.jsx)(c.AW,{path:"events",element:(0,I.jsx)(m,{})}),k&&(0,I.jsx)(c.AW,{path:"replication",element:(0,I.jsx)(p,{})}),k&&(0,I.jsx)(c.AW,{path:"lifecycle",element:(0,I.jsx)(f,{})}),(0,I.jsx)(c.AW,{path:"access",element:(0,I.jsx)(S,{})}),(0,I.jsx)(c.AW,{path:"prefix",element:(0,I.jsx)(F,{})}),(0,I.jsx)(c.AW,{path:"*",element:(0,I.jsx)(c.Fg,{to:"/buckets/".concat(w,"/admin/summary")})})]})})})]})]})}},75578:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(72791),c=s(80184);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(s){return(0,c.jsx)(n.Suspense,{fallback:t,children:(0,c.jsx)(e,{...s})})}}}}]);
//# sourceMappingURL=6895.bee5a4a8.chunk.js.map