"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[6247],{56247:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var l=a(72791),n=a(29945),s=a(80184);const o=e=>{let{onChange:t}=e;const[a,o]=(0,l.useState)(!1),[r,u]=(0,l.useState)(""),[c,i]=(0,l.useState)(""),[d,g]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,v]=(0,l.useState)(""),[b,f]=(0,l.useState)(""),[x,j]=(0,l.useState)(" "),[S,C]=(0,l.useState)(""),[w,y]=(0,l.useState)("namespace"),[k,E]=(0,l.useState)(""),[q,z]=(0,l.useState)(""),[W,_]=(0,l.useState)(""),B=(0,l.useCallback)((()=>{let e="";return""!==c&&(e="".concat(e," host=").concat(c)),""!==d&&(e="".concat(e," dbname=").concat(d)),""!==p&&(e="".concat(e," user=").concat(p)),""!==b&&(e="".concat(e," password=").concat(b)),""!==m&&(e="".concat(e," port=").concat(m))," "!==x&&(e="".concat(e," sslmode=").concat(x)),e="".concat(e," "),e.trim()}),[c,d,p,b,m,x]);return(0,l.useEffect)((()=>{if(""!==r){t([{key:"connection_string",value:r},{key:"table",value:S},{key:"format",value:w},{key:"queue_dir",value:k},{key:"queue_limit",value:q},{key:"comment",value:W}])}}),[r,S,w,k,q,W,t]),(0,l.useEffect)((()=>{const e=B();u(e)}),[p,d,b,m,x,c,u,B]),(0,l.useEffect)((()=>{if(a){const e=B();return void u(e)}const e=((e,t)=>{let a=[];for(const s of t){const t=e.indexOf(s+"=");-1!==t&&a.push(t)}a.sort(((e,t)=>e-t));let l=new Map,n=new Array(a.length);for(let s=0;s<a.length;s++){const t=s+1;t<a.length?n[s]=e.slice(a[s],a[t]):n[s]=e.slice(a[s])}for(let s of n){if(void 0===s)continue;const e=s.slice(0,s.indexOf("=")),t=s.slice(s.indexOf("=")+1).trim();l.set(e,t)}return l})(r,["host","port","dbname","user","password","sslmode"]);i(e.get("host")?e.get("host")+"":""),h(e.get("port")?e.get("port")+"":""),g(e.get("dbname")?e.get("dbname")+"":""),v(e.get("user")?e.get("user")+"":""),f(e.get("password")?e.get("password")+"":""),j(e.get("sslmode")?e.get("sslmode")+"":" ")}),[a]),(0,s.jsxs)(n.ltY,{containerPadding:!1,withBorders:!1,children:[(0,s.jsx)(n.rsf,{label:"Manually Configure String",checked:a,id:"manualString",name:"manualString",onChange:e=>{o(e.target.checked)},value:"manualString"}),a?(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(n.Wzg,{id:"connection-string",name:"connection_string",label:"Connection String",value:r,onChange:e=>{u(e.target.value)}})}):(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(n.rjZ,{item:!0,xs:12,children:(0,s.jsxs)(n.xuv,{withBorders:!0,useBackground:!0,sx:{overflowY:"auto",height:170,marginBottom:12},children:[(0,s.jsx)(n.Wzg,{id:"host",name:"host",label:"",placeholder:"Enter Host",value:c,onChange:e=>{i(e.target.value)}}),(0,s.jsx)(n.Wzg,{id:"db-name",name:"db-name",label:"",placeholder:"Enter DB Name",value:d,onChange:e=>{g(e.target.value)}}),(0,s.jsx)(n.Wzg,{id:"port",name:"port",label:"",placeholder:"Enter Port",value:m,onChange:e=>{h(e.target.value)}}),(0,s.jsx)(n.PhF,{value:x,label:"",id:"sslmode",name:"sslmode",onChange:e=>{e&&j(e+"")},options:[{label:"Enter SSL Mode",value:" "},{label:"Require",value:"require"},{label:"Disable",value:"disable"},{label:"Verify CA",value:"verify-ca"},{label:"Verify Full",value:"verify-full"}]}),(0,s.jsx)(n.Wzg,{id:"user",name:"user",label:"",placeholder:"Enter User",value:p,onChange:e=>{v(e.target.value)}}),(0,s.jsx)(n.Wzg,{id:"password",name:"password",label:"",type:"password",placeholder:"Enter Password",value:b,onChange:e=>{f(e.target.value)}})]})}),(0,s.jsx)(n.bSr,{label:"Connection String",multiLine:!0,children:r})]}),(0,s.jsx)(n.Wzg,{id:"table",name:"table",label:"Table",placeholder:"Enter Table Name",value:S,tooltip:"DB table name to store/update events, table is auto-created",onChange:e=>{C(e.target.value)}}),(0,s.jsx)(n.Eep,{currentValue:w,id:"format",name:"format",label:"Format",onChange:e=>{y(e.target.value)},tooltip:"'namespace' reflects current bucket/object list and 'access' reflects a journal of object operations, defaults to 'namespace'",selectorOptions:[{label:"Namespace",value:"namespace"},{label:"Access",value:"access"}]}),(0,s.jsx)(n.Wzg,{id:"queue-dir",name:"queue_dir",label:"Queue Dir",placeholder:"Enter Queue Directory",value:k,tooltip:"Staging directory for undelivered messages e.g. '/home/events'",onChange:e=>{E(e.target.value)}}),(0,s.jsx)(n.Wzg,{id:"queue-limit",name:"queue_limit",label:"Queue Limit",placeholder:"Enter Queue Limit",type:"number",value:q,tooltip:"Maximum limit for undelivered messages, defaults to '10000'",onChange:e=>{z(e.target.value)}}),(0,s.jsx)(n.q5m,{id:"comment",name:"comment",label:"Comment",placeholder:"Enter custom notes if any",value:W,onChange:e=>{_(e.target.value)}})]})}}}]);
//# sourceMappingURL=6247.61a86532.chunk.js.map