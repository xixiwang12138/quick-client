"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[5702],{25702:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var s=n(72791),i=n(26181),r=n.n(i),o=n(78687),c=n(57689),a=n(29945),l=n(31776),d=n(82342),u=n(38442),b=n(56087),h=n(87995),m=n(9859),x=n(44690),p=n(75578),j=n(27454),f=n(80184);const S=(0,p.Z)(s.lazy((()=>n.e(455).then(n.bind(n,80455))))),k=(0,p.Z)(s.lazy((()=>n.e(8296).then(n.bind(n,8296))))),v=()=>{const e=(0,x.TL)(),t=(0,c.UO)(),n=(0,o.v9)(m.HQ),[i,p]=(0,s.useState)(!1),[v,_]=(0,s.useState)(!0),[E,F]=(0,s.useState)([]),[T,I]=(0,s.useState)(!1),[N,C]=(0,s.useState)(null),O=t.bucketName||"",g=(0,u.F)(O,[b.Ft.S3_GET_BUCKET_NOTIFICATIONS,b.Ft.S3_GET_ACTIONS]);(0,s.useEffect)((()=>{n&&_(!0)}),[n,_]),(0,s.useEffect)((()=>{e((0,h.Sc)("bucket_detail_events"))}),[]),(0,s.useEffect)((()=>{v&&(g?l.h.buckets.listBucketEvents(O).then((e=>{const t=r()(e.data,"events",[]);_(!1),F(t||[])})).catch((t=>{_(!1),e((0,h.Ih)((0,d.g)(t.error)))})):_(!1))}),[v,e,O,g]);const A=[{type:"delete",onClick:e=>{I(!0),C(e)}}];return(0,f.jsxs)(s.Fragment,{children:[T&&(0,f.jsx)(S,{deleteOpen:T,selectedBucket:O,bucketEvent:N,closeDeleteModalAndRefresh:e=>{I(!1),e&&_(!0)}}),i&&(0,f.jsx)(k,{open:i,selectedBucket:O,closeModalAndRefresh:()=>{p(!1),_(!0)}}),(0,f.jsx)(a.NZf,{separator:!0,sx:{marginBottom:15},actions:(0,f.jsx)(u.s,{scopes:[b.Ft.S3_PUT_BUCKET_NOTIFICATIONS,b.Ft.S3_PUT_ACTIONS,b.Ft.ADMIN_SERVER_INFO],resource:O,matchAll:!0,errorProps:{disabled:!0},children:(0,f.jsx)(j.Z,{tooltip:"Subscribe to Event",children:(0,f.jsx)(a.zxk,{id:"Subscribe-bucket-event",onClick:()=>{p(!0)},label:"Subscribe to Event",icon:(0,f.jsx)(a.dtP,{}),variant:"callAction"})})}),children:(0,f.jsx)(a.SYi,{content:(0,f.jsxs)(s.Fragment,{children:["MinIO"," ",(0,f.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/monitoring.html",children:"bucket notifications"})," ","allow administrators to send notifications to supported external services on certain object or bucket events."]}),placement:"right",children:"Events"})}),(0,f.jsxs)(a.rjZ,{container:!0,children:[(0,f.jsx)(a.rjZ,{item:!0,xs:12,children:(0,f.jsx)(u.s,{scopes:[b.Ft.S3_GET_BUCKET_NOTIFICATIONS,b.Ft.S3_GET_ACTIONS],resource:O,errorProps:{disabled:!0},children:(0,f.jsx)(a.wQF,{itemActions:A,columns:[{label:"SQS",elementKey:"arn"},{label:"Events",elementKey:"events",renderFunction:e=>{if(!e)return"other";const t=e.reduce(((e,t)=>e.includes(t)?e:[...e,t]),[]);return(0,f.jsx)(s.Fragment,{children:t.join(", ")})}},{label:"Prefix",elementKey:"prefix"},{label:"Suffix",elementKey:"suffix"}],isLoading:v,records:E,entityName:"Events",idField:"id",customPaperHeight:"400px"})})}),!v&&(0,f.jsxs)(a.rjZ,{item:!0,xs:12,children:[(0,f.jsx)("br",{}),(0,f.jsx)(a.KfX,{title:"Event Notifications",iconComponent:(0,f.jsx)(a.cCG,{}),help:(0,f.jsxs)(s.Fragment,{children:["MinIO bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. MinIO supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications.",(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),"You can learn more at our"," ",(0,f.jsx)("a",{href:"https://min.io/docs/minio/linux/administration/monitoring/bucket-notifications.html?ref=con",target:"_blank",rel:"noopener",children:"documentation"}),"."]})})]})]})]})}}}]);
//# sourceMappingURL=5702.fc30b17f.chunk.js.map