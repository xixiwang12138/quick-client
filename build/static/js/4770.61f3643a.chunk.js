"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[4770],{59447:(e,t,n)=>{n.d(t,{Z:()=>i});var l=n(72791),a=n(26181),o=n.n(a),s=n(29945),r=n(80184);const i=e=>{let{elements:t,name:n,label:a,tooltip:i="",commonPlaceholder:c="",onChange:d,withBorder:u=!1}=e;const[h,f]=(0,l.useState)([""]),m=(0,l.createRef)();(0,l.useEffect)((()=>{if(1===h.length&&""===h[0]&&t&&""!==t){const e=t.split(",");e.push(""),f(e)}}),[t,h]),(0,l.useEffect)((()=>{if(h.length>1){const e=m.current;e&&e.scrollIntoView(!1)}}),[h,m]);const p=(0,l.useCallback)((e=>{d(e)}),[d]),x=(0,l.useRef)(!0);(0,l.useEffect)((()=>{if(x.current)return void(x.current=!1);const e=h.filter((e=>""!==e.trim())).join(",");p(e)}),[h]);const v=e=>{e.persist();let t=[...h];const n=o()(e.target,"dataset.index","0");t[parseInt(n)]=e.target.value,f(t)},g=h.map(((e,t)=>(0,r.jsx)(s.Wzg,{id:"".concat(n,"-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:h[t],onChange:v,index:t,placeholder:c,overlayIcon:t===h.length-1?(0,r.jsx)(s.dtP,{}):null,overlayAction:()=>{(e=>{if(""!==e[e.length-1].trim()){const t=[...e];t.push(""),f(t)}})(h)}},"csv-multi-".concat(n,"-").concat(t.toString()))));return(0,r.jsx)(l.Fragment,{children:(0,r.jsxs)(s.xuv,{sx:{display:"flex"},className:"inputItem",children:[(0,r.jsxs)(s.AZs,{sx:{alignItems:"flex-start"},children:[(0,r.jsx)("span",{children:a}),""!==i&&(0,r.jsx)(s.xuv,{sx:{marginLeft:5,display:"flex",alignItems:"center","& .min-icon":{width:13}},children:(0,r.jsx)(s.ua7,{tooltip:i,placement:"top",children:(0,r.jsx)(s.xuv,{className:i,children:(0,r.jsx)(s.byK,{})})})})]}),(0,r.jsxs)(s.xuv,{withBorders:u,sx:{width:"100%",overflowY:"auto",height:150,position:"relative"},children:[g,(0,r.jsx)("div",{ref:m})]})]})})}},94770:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i,valueDef:()=>r});var l=n(72791),a=n(29945),o=n(59447),s=n(80184);const r=(e,t,n)=>{let l="on|off"===t?"off":"";if(n.length>0){const t=n.find((t=>t.key===e));t&&(l=t.value||"")}return l},i=e=>{let{onChange:t,fields:n,defaultVals:i,overrideEnv:c}=e;const[d,u]=(0,l.useState)([]),h=n||[],f=i||[];(0,l.useEffect)((()=>{const e=n.map((e=>({key:e.name,value:r(e.name,e.type,f)})));u(e)}),[n,i]),(0,l.useEffect)((()=>{t(d)}),[d]);const m=(e,t,n)=>{const l=[...d];t=t.trim(),l[n]={key:e,value:t},u(l)},p=(e,t)=>{const n=d[t];if(n){const t=null===c||void 0===c?void 0:c["".concat(n.key)];if(t)return(0,s.jsx)(a.bSr,{label:e.label,actionButton:(0,s.jsx)(a.rjZ,{item:!0,sx:{display:"flex",justifyContent:"flex-end",paddingRight:"10px"},children:(0,s.jsx)(a.ua7,{tooltip:"This value is set from the ".concat(t.overrideEnv," environment variable"),placement:"left",children:(0,s.jsx)(a.zD0,{style:{width:20}})})}),sx:{width:"100%"},children:t.value})}switch(e.type){case"on|off":const l=n?n.value:"off";return(0,s.jsx)(a.rsf,{onChange:n=>{const l=n.target.checked?"on":"off";m(e.name,l,t)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"on"===l});case"csv":return(0,s.jsx)(o.Z,{elements:n?n.value:"",label:e.label,name:e.name,onChange:n=>{let l="";l=Array.isArray(n)?n.join(","):n,m(e.name,l,t)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,s.jsx)(a.q5m,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:n?n.value:"",onChange:n=>m(e.name,n.target.value,t),placeholder:e.placeholder});default:return(0,s.jsx)(a.Wzg,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:n?n.value:"",onChange:n=>m(e.name,n.target.value,t),placeholder:e.placeholder})}};return(0,s.jsx)(a.ltY,{withBorders:!1,containerPadding:!1,children:h.map(((e,t)=>(0,s.jsx)(l.Fragment,{children:p(e,t)},e.name)))})}}}]);
//# sourceMappingURL=4770.61f3643a.chunk.js.map