"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[4414],{34414:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var n=t(72791),r=t(26181),s=t.n(r),c=t(29945),l=t(31776),o=t(82342),i=t(23814),d=t(87995),u=t(44690),m=t(56028),h=t(80184);const g=e=>{let{open:a,closeModalAndRefresh:t,tierData:r}=e;const g=(0,u.TL)(),[x,j]=(0,n.useState)(!1),[p,y]=(0,n.useState)(""),[b,v]=(0,n.useState)(""),[C,K]=(0,n.useState)(""),[f,z]=(0,n.useState)(""),[S,k]=(0,n.useState)(!0),A=s()(r,"type",""),E=s()(r,"".concat(A,".name"),"");(0,n.useEffect)((()=>{let e=!0;"s3"===A||"azure"===A||"minio"===A?""!==C&&""!==f||(e=!1):"gcs"===A&&""===b&&(e=!1),k(e)}),[f,C,b,A]);return(0,h.jsx)(m.Z,{modalOpen:a,titleIcon:(0,h.jsx)(c.mBM,{}),onClose:()=>{t(!1)},title:"Update Credentials - ".concat(A," / ").concat(E),children:(0,h.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),j(!0),(()=>{let e={};"s3"===A||"azure"===A||"minio"===A?e={access_key:C,secret_key:f}:"gcs"===A&&(e={creds:b}),""!==E?l.h.admin.editTierCredentials(A,E,e).then((()=>{j(!1),t(!0)})).catch((e=>{j(!1),g((0,d.zb)((0,o.g)(e.error)))})):(0,d.zb)({errorMessage:"There was an error retrieving tier information",detailedError:""})})()},children:[(0,h.jsxs)(c.ltY,{withBorders:!1,containerPadding:!1,children:[("s3"===A||"minio"===A)&&(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(c.Wzg,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:C,onChange:e=>{K(e.target.value)}}),(0,h.jsx)(c.Wzg,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:f,onChange:e=>{z(e.target.value)}})]}),"gcs"===A&&(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(c.F5R,{accept:".json",id:"creds",label:"Credentials",name:"creds",returnEncodedData:!0,onChange:(e,a,t)=>{t&&(v(t),y(a))},value:p})}),"azure"===A&&(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(c.Wzg,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:C,onChange:e=>{K(e.target.value)}}),(0,h.jsx)(c.Wzg,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:f,onChange:e=>{z(e.target.value)}})]})]}),x&&(0,h.jsx)(c.rjZ,{item:!0,xs:12,children:(0,h.jsx)(c.kod,{})}),(0,h.jsx)(c.rjZ,{item:!0,xs:12,sx:i.ID.modalButtonBar,children:(0,h.jsx)(c.zxk,{id:"save-credentials",type:"submit",variant:"callAction",disabled:x||!S,label:"Save"})})]})})}}}]);
//# sourceMappingURL=4414.7aec6e64.chunk.js.map