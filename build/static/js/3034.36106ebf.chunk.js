"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[3034],{33034:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var a=t(72791),s=t(29945),r=t(57689),c=t(56087),l=t(87995),o=t(44690),i=t(23814),x=t(9505),d=t(40214),j=t(80184);const p=e=>{let{onSuccess:n,onError:t}=e;const[r,c]=(0,x.Z)(n,t),[l,o]=(0,a.useState)(""),p=""!==l.trim()&&-1===l.indexOf(" ");return(0,j.jsx)(s.Xgh,{children:(0,j.jsx)(s.ltY,{title:"Create Key",icon:(0,j.jsx)(s.sR0,{}),helpBox:(0,j.jsx)(d.Z,{helpText:"Encryption Key",contents:["Create a new cryptographic key in the Key Management Service server connected to MINIO."]}),children:(0,j.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),c("POST","/api/v1/kms/keys/",{key:l})},children:(0,j.jsxs)(s.rjZ,{container:!0,children:[(0,j.jsx)(s.rjZ,{item:!0,xs:12,children:(0,j.jsx)(s.Wzg,{id:"key-name",name:"key-name",label:"Key Name",autoFocus:!0,value:l,error:(e=>-1!==e.indexOf(" ")?"Key name cannot contain spaces":"")(l),onChange:e=>{o(e.target.value)}})}),(0,j.jsxs)(s.rjZ,{item:!0,xs:12,sx:i.ID.modalButtonBar,children:[(0,j.jsx)(s.zxk,{id:"clear",type:"button",variant:"regular",onClick:()=>{o("")},label:"Clear"}),(0,j.jsx)(s.zxk,{id:"save-key",type:"submit",variant:"callAction",color:"primary",disabled:r||!p,label:"Save"})]})]})})})})};var u=t(79844),h=t(61342);const m=()=>{const e=(0,o.TL)(),n=(0,r.s0)();return(0,a.useEffect)((()=>{e((0,l.Sc)("add_key"))}),[]),(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(s.rjZ,{item:!0,xs:12,children:[(0,j.jsx)(u.Z,{label:(0,j.jsx)(s.hbI,{label:"Keys",onClick:()=>n(c.gA.KMS_KEYS)}),actions:(0,j.jsx)(h.Z,{})}),(0,j.jsx)(p,{onError:n=>e((0,l.Ih)(n)),onSuccess:()=>n("".concat(c.gA.KMS_KEYS))})]})})}},40214:(e,n,t)=>{t.d(n,{Z:()=>c});var a=t(72791),s=t(29945),r=t(80184);const c=e=>{let{helpText:n,contents:t}=e;return(0,r.jsx)(s.KfX,{iconComponent:(0,r.jsx)(s.M9A,{}),title:n,help:(0,r.jsx)(a.Fragment,{children:t.map((e=>(0,r.jsx)(s.xuv,{sx:{paddingBottom:"20px"},children:e})))})})}}}]);
//# sourceMappingURL=3034.36106ebf.chunk.js.map