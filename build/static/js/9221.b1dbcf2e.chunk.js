"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[9221],{49221:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var t=r(72791),l=r(29945),o=r(23814),a=r(81207),d=r(83658),n=r(56028),i=r(87995),c=r(44690),u=r(80184);const h=e=>{let{open:s,checkedUsers:r,closeModalAndRefresh:h}=e;const p=(0,c.TL)(),[x,b]=(0,t.useState)(!1),[j,g]=(0,t.useState)(!1),[k,m]=(0,t.useState)([]);(0,t.useEffect)((()=>{x&&(k.length>0?a.Z.invoke("PUT","/api/v1/users-groups-bulk",{groups:k,users:r}).then((()=>{b(!1),g(!0)})).catch((e=>{b(!1),p((0,i.zb)(e))})):(b(!1),p((0,i.zb)({errorMessage:"You need to select at least one group to assign",detailedError:""}))))}),[x,b,h,k,r,p]);return(0,u.jsx)(n.Z,{modalOpen:s,onClose:()=>{h(j)},title:j?"The selected users were added to the following groups.":"Add Users to Group",titleIcon:(0,u.jsx)(l.ZmA,{}),children:j?(0,u.jsx)(t.Fragment,{children:(0,u.jsxs)(l.ltY,{withBorders:!1,containerPadding:!1,sx:{margin:"30px 0"},children:[(0,u.jsx)(l.bSr,{label:"Groups",sx:{width:"100%"},children:k.join(", ")}),(0,u.jsxs)(l.bSr,{label:"Users",sx:{width:"100%"},children:[" ",r.join(", ")," "]})]})}):(0,u.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:e=>{e.preventDefault(),b(!0)},children:[(0,u.jsxs)(l.ltY,{withBorders:!1,containerPadding:!1,children:[(0,u.jsx)(l.bSr,{label:"Selected Users",sx:{width:"100%"},children:r.join(", ")}),(0,u.jsx)(d.Z,{selectedGroups:k,setSelectedGroups:m})]}),(0,u.jsxs)(l.rjZ,{item:!0,xs:12,sx:o.ID.modalButtonBar,children:[(0,u.jsx)(l.zxk,{id:"clear-bulk-add-group",type:"button",variant:"regular",color:"primary",onClick:()=>{m([])},label:"Clear"}),(0,u.jsx)(l.zxk,{id:"save-add-group",type:"submit",variant:"callAction",disabled:x||k.length<1,label:"Save"})]}),x&&(0,u.jsx)(l.rjZ,{item:!0,xs:12,children:(0,u.jsx)(l.kod,{})})]})})}}}]);
//# sourceMappingURL=9221.b1dbcf2e.chunk.js.map